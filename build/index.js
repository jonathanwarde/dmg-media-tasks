!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){return function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,a,i=[],c=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t,n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n=window.React,r=window.wp.element,o=window.wp.components,l=window.wp.data,a=window.wp.blockEditor;(0,window.wp.blocks.registerBlockType)("custom-blocks/add-post-button",{title:"Add Post Link",icon:"admin-post",category:"layout",edit:function(e){var i=e.setAttributes,c=e.attributes,u=t((0,r.useState)(""),2),s=u[0],p=u[1],d=t((0,r.useState)(null),2),f=d[0],m=d[1],y=(0,l.useSelect)((function(e){return s?e("core").getEntityRecords("postType","post",{search:s,per_page:10}):[]}),[s]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(o.PanelBody,{title:"Search for a Post"},(0,n.createElement)(o.PanelRow,null,(0,n.createElement)(o.TextControl,{type:"search",value:s,onChange:function(e){return p(e)},placeholder:"Search for a post..."})),(0,n.createElement)(o.PanelRow,null,y&&y.map((function(e){return(0,n.createElement)(o.Button,{isSecondary:!0,onClick:function(){return m(e)}},e.title.rendered)}))),(0,n.createElement)(o.PanelRow,null,(0,n.createElement)(o.Button,{isPrimary:!0,onClick:function(){f&&i({postLink:f.link,postTitle:f.title.rendered})}},"Insert Selected Post")))),c.postLink&&(0,n.createElement)("a",{href:c.postLink,className:"dmg-read-more"},"Read More: ",c.postTitle))},save:function(e){var t=e.attributes;return t.postLink?(0,n.createElement)("a",{href:t.postLink,className:"dmg-read-more"},"Read More: ",t.postTitle):null},attributes:{postLink:{type:"string"},postTitle:{type:"string"}}})}();